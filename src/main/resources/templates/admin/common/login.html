<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/admin/common/layout}">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>관리자 로그인</title>

  <!-- 로그인 전용 CSS 주입 (layout.html의 extraHead 슬롯에 삽입) -->
  <th:block layout:fragment="extraHead">
    <!-- 공통 토큰/베이스 CSS가 layout 쪽에 이미 포함되어 있다면 이 줄만 있어도 OK -->
  </th:block>
</head>

<body class="page">
  <!-- layout.html 안의 본문 슬롯 -->
  <main layout:fragment="adminContent">
    <!-- 본문 -->
    <section class="auth" id="main-content">
      <div class="auth-card" role="region" aria-labelledby="login-title">
        <header class="auth-card__head">
          <h1 id="login-title" class="auth-title">관리자 로그인</h1>
          <p class="auth-desc">시스템에 접근하려면 로그인해주세요.</p>
        </header>

        <form class="auth-form" th:action="@{/admin/login-process}" method="post" novalidate>
          <input type="hidden" name="remember" value="true" />
		  <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />


          <div class="field">
            <label for="email" class="field__label">이메일</label>
            <input id="email" name="username" type="email" class="field__control" autocomplete="email"
                   required placeholder="example@company.com" />
            <p class="field__error" aria-live="polite"></p>
          </div>

          <div class="field">
            <label for="password" class="field__label">비밀번호</label>
            <input id="password" name="password" type="password" class="field__control"
                   autocomplete="current-password" required placeholder="••••••••" />
            <p class="field__error" aria-live="polite"></p>
          </div>

          <div class="auth-actions">
            <label class="form-check">
              <input id="remember-me" name="remember-me" type="checkbox" />
              <span>로그인 상태 유지</span>
            </label>
            <a href="#" class="link">비밀번호 찾기</a>
          </div>

          <!-- 레이아웃 확인용: 임시 이동 -->
          <button type="submit"
                  class="btn btn--primary btn--block"
                  th:onclick="|location.href='@{/admin/main}'|">로그인</button>
        </form>

        <footer class="auth-footer">
          <p>아직 계정이 없으신가요? <a href="#" class="link">지금 가입하세요</a></p>
        </footer>
      </div>
    </section>
  </main>
</body>
</html>
